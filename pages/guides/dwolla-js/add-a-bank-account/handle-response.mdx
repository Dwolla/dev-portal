---
layout: guides
title: "Step 4: Handle JavaScript callback"
guide:
  step: 4
meta:
  title: Add Bank - Handle Dwolla.js callback | Dwolla API Documentation
  description: Handle a request's success and errors in dwolla.js when adding a bank.
---

<AlertBar variation="announcement">
  Deprecation Announcement: Dwolla will be discontinuing support for dwolla.js on August 31, 2023. This library is no longer being actively developed, and we recommend using the <a href="/concepts/drop-in-components">Drop-in Components library</a> instead. The Drop-in Components library offers an enhanced developer experience and includes functionality that was previously only available in dwolla.js.

For more information, please see the official <a href="https://discuss.dwolla.com/t/may-2023-updates-retiring-dwolla-s-client-side-javascript-library-dwolla-js/8969">announcement</a> and <a href="https://discuss.dwolla.com/t/migration-guide-dwolla-js-to-dwolla-web-js/8968">migration guide</a>.

</AlertBar>

# Step 4: Handle JavaScript Callback

The callback function (err, res) allows you to determine if there is an error with the request (e.g. `Routing number invalid.`) or if the response was successful. In the example above, we are displaying any error or response within a `logs` container on our page.

If there is an error: Display the error to the user to have them correct any fields, and have them re-attempt to add their bank.

##### Example:

```json
{
  "error": {
    "code": "ValidationError",
    "message": "Validation error(s) present. See embedded errors list for more details.",
    "_embedded": {
      "errors": [
        {
          "code": "Invalid",
          "message": "Routing number invalid.",
          "path": "/routingNumber"
        }
      ]
    }
  }
}
```

If successful: You will receive a JSON response that includes a link to the newly attached funding source.

##### Example:

```json
{
  "error": null,
  "response": {
    "_links": {
      "funding-source": {
        "href": "https://api-sandbox.dwolla.com/funding-sources/746d5c93-acb9-4826-a9c1-78ecf16401a6"
      }
    }
  }
}
```
