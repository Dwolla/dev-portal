---
layout: guides
product: balance
title: "Create an exchange for a customer"
guide:
  step: 4
meta:
  title: "Create an exchange for a Customer | Dwolla API Documentation"
  description: Create an exchange for an end-user/Customer.
---

# Create an exchange for a customer

This section contains information on how to create an exchange for an end-user/Customer. The creation of an exchange serves as the “hand-shake” between Dwolla and a trusted ecosystem partner. The creation of an exchange requires a `_link` to the exchange partner and tokenized data which encapsulates limited permissioned access between an ecosystem partner and Dwolla.

### HTTP request

> `POST https://api.dwolla.com/customers/{id}/exchanges`

### Request parameters

| Parameter | Required    | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| --------- | ----------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| \_links   | yes         | object | A \_links JSON object containing an exchange partner link. See example raw request and response below.                                                                                                                                                                                                                                                                                                                                                                |
| token     | conditional | string | A third party provider processor token. **Required** for MX, Flinks and Plaid integrations.                                                                                                                                                                                                                                                                                                                                                                           |
| mx        | conditional | object | Contains an `availableConnectionToken`. The `availableConnectionToken` is tied to the [Exchange Sessions API](/docs/balance/api-reference/open-banking/create-exchange-session-for-a-customer) within Dwolla's Open Banking product. It is a unique identifier associated with each available exchange connection retrieved through the [list available exchange connections endpoint](/docs/balance/api-reference/open-banking/list-available-exchange-connections). |
| plaid     | conditional | object | Contains a Plaid `publicToken`. The `publicToken` is tied to the [Exchange Sessions API](/docs/balance/api-reference/open-banking/create-exchange-session-for-a-customer) within Dwolla's Open Banking product. A `publicToken` is a short-lived, one-time use token that is generated by Plaid Link after a user successfully connects their bank account.                                                                                                           |
| finicity  | conditional | object | Finicity resource object containing access key **receipt** information. **Required** for Mastercard integration. See `finicity` JSON object below (including nested `product` and `accessPeriod` JSON objects).                                                                                                                                                                                                                                                       |

### Finicity JSON Object

| Parameter      | Type    | Description                                                                                                                                                             |
| -------------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| profile        | integer | Int value obtained by the party integrating with Finicity.                                                                                                              |
| version        | string  | String value obtained by the party integrating with Finicity.                                                                                                           |
| receiptId      | string  | String value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response.                      |
| receiptVersion | string  | String value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response.                      |
| customerId     | string  | String value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response.                      |
| partnerId      | integer | Int value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response.                         |
| products       | object  | Array of Finicity Product objects obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response. |

#### Finicity product JSON Object

| Parameter    | Type   | Description                                                                                                                                                         |
| ------------ | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| product      | string | String value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response                   |
| accountId    | string | String value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response                   |
| accessPeriod | object | Finicity Access Period objects obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response |

#### Finicity accessPeriod JSON object

| Parameter | Type    | Description                                                                                                                                       |
| --------- | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| type      | string  | String value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response |
| startTime | integer | Int value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response    |
| endTime   | integer | Int value obtained by the party integrating with Finicity. From Finicity `https://api.finicity.com/aggregation/v1/partners/accessKey` response    |

### HTTP status and error codes

| HTTP Status | Code            | Description                                                                                                                                                                   |
| ----------- | --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 201         | Created         | The Dwolla API accepted the request and created an exchange resource. You can reference the Location header to retrieve a link that represents the created exchange resource. |
| 400         | ValidationError | Validation error(s) present. See embedded errors list for more details.                                                                                                       |
| 401         | InvalidScope    | Missing or invalid scopes for requested endpoint.                                                                                                                             |
| 404         | NotFound        | The requested resource was not found.                                                                                                                                         |

### Request and Response (MX)

```bash
POST https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980/exchanges
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "exchange-partner": {
            "href": "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4"
        }
    },
    "token": "someMXProcessorToken"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
```

```php
<?php
// Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-php
$exchangesApi = new ExchangesApi($apiClient);
$customerUrl = "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";

$exchange = $exchangesApi->createCustomerExchange(new CreateExchangeRequest([
    "_links" => [
        "exchange-partner" => [
            "href" => "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4"
        ]
    ],
    "token" => "someMXProcessorToken"
]), $customerUrl);

$exchange; # => https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
?>
```

```ruby
# Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  _links: {
    'exchange-partner': {
      href: "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4"
    }
  },
  token: 'someMXProcessorToken'
}

exchange = app_token.post "#{customer_url}/exchanges", request_body
exchange.response_headers[:location] # => "https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d"
```

```python
# Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  '_links': {
    'exchange-partner': {
      'href': 'https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4'
    }
  },
  'token': 'someMXProcessorToken'
}

exchange = app_token.post('%s/exchanges' % customer_url, request_body)
exchange.headers['location'] # => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

```javascript
// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
var customerUrl =
  "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";
var requestBody = {
  _links: {
    "exchange-partner": {
      href: "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4",
    },
  },
  token: "someMXProcessorToken",
};

dwolla
  .post(`${customerUrl}/exchanges`, requestBody)
  .then((res) => res.headers.get("location")); // => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

### Request and Response (MX - Exchange Sessions API)

```bash
POST https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980/exchanges
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "exchange-partner": {
            "href": "https://api.dwolla.com/exchange-partners/bca8d065-49a5-475b-a6b4-509bc8504d22"
        }
    },
    "mx": {
        "availableConnectionToken": "eyJhY2NvdW50SWQiOiJBQ1QtMjAxY2FkM2MtYzc2Yi00N2M1LWI3Y2QtMTkxY2FhNzdlZWM5IiwibWVtYmVySWQiOiJNQlItZGNjZWY0ZWMtOGM4MC00NTlmLTlhMGItMTc1ZTA0OTJmZWIzIn0="
    }
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
```

```php
/**
 * No example for this language yet.
 **/
```

```ruby
# Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  _links: {
    'exchange-partner': {
      href: "https://api.dwolla.com/exchange-partners/bca8d065-49a5-475b-a6b4-509bc8504d22"
    }
  },
  mx: {
    availableConnectionToken: "eyJhY2NvdW50SWQiOiJBQ1QtMjAxY2FkM2MtYzc2Yi00N2M1LWI3Y2QtMTkxY2FhNzdlZWM5IiwibWVtYmVySWQiOiJNQlItZGNjZWY0ZWMtOGM4MC00NTlmLTlhMGItMTc1ZTA0OTJmZWIzIn0="
  }
}

exchange = app_token.post "#{customer_url}/exchanges", request_body
exchange.response_headers[:location] # => "https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d"
```

```python
# Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
customer_url = 'https://api.dwolla.com/customer/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  '_links': {
    'exchange-partner': {
      'href': 'https://api.dwolla.com/exchange-partners/bca8d065-49a5-475b-a6b4-509bc8504d22'
    }
  },
  'mx': {
    'availableConnectionToken': "eyJhY2NvdW50SWQiOiJBQ1QtMjAxY2FkM2MtYzc2Yi00N2M1LWI3Y2QtMTkxY2FhNzdlZWM5IiwibWVtYmVySWQiOiJNQlItZGNjZWY0ZWMtOGM4MC00NTlmLTlhMGItMTc1ZTA0OTJmZWIzIn0="
  }
}

exchange = app_token.post('%s/exchanges' % customer_url, request_body)
exchange.headers['location'] # => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

```javascript
// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
var customerUrl =
  "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";
var requestBody = {
  _links: {
    "exchange-partner": {
      href: "https://api.dwolla.com/exchange-partners/bca8d065-49a5-475b-a6b4-509bc8504d22",
    },
  },
  mx: {
    availableConnectionToken:
      "eyJhY2NvdW50SWQiOiJBQ1QtMjAxY2FkM2MtYzc2Yi00N2M1LWI3Y2QtMTkxY2FhNzdlZWM5IiwibWVtYmVySWQiOiJNQlItZGNjZWY0ZWMtOGM4MC00NTlmLTlhMGItMTc1ZTA0OTJmZWIzIn0=",
  },
};

dwolla
  .post(`${customerUrl}/exchanges`, requestBody)
  .then((res) => res.headers.get("location")); // => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

### Request and Response (Flinks)

```bash
POST https://api.dwolla.com/exchanges
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "exchange-partner": {
            "href": "https://api.dwolla.com/exchange-partners/a0b22a57-68df-4450-b507-47c937e64e89"
        }
    },
    "token": "MTExYTFhMWEtMTExMS0xYWExLTExMTEtMTFhMTExYTExMTFhOjIyMmIyYjFiLTIyMjItMmJiMi0yMjIyLTIyYjIyMmIyMjIyYg=="
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
```

```php
<?php
// Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-php
$exchangesApi = new ExchangesApi($apiClient);

$authSecret = "111a1a1a-1111-1aa1-1111-11a111a1111a";
$accessToken = "222b2b1b-2222-2bb2-2222-22b222b2222b";

$exchange = $exchangesApi->createAccountExchange(new CreateExchangeRequest([
    "_links" => [
        "exchange-partner" => [
            "href" => "https://api.dwolla.com/exchange-partners/a0b22a57-68df-4450-b507-47c937e64e89"
        ]
    ],
    "token" => base64_encode($authSecret . ":" . $accessToken)
]));

$exchange; # => https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
?>
```

```ruby
# Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
require "base64"

auth_secret = '111a1a1a-1111-1aa1-1111-11a111a1111a'
access_token = '222b2b1b-2222-2bb2-2222-22b222b2222b'

request_body = {
  _links: {
    'exchange-partner': {
      href: "https://api.dwolla.com/exchange-partners/a0b22a57-68df-4450-b507-47c937e64e89"
    }
  },
  token: Base64.encode64(auth_secret + ':' + access_token)
}

exchange = app_token.post "exchanges", request_body
exchange.response_headers[:location] # => "https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d"
```

```python
# Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
import base64

auth_secret = b'111a1a1a-1111-1aa1-1111-11a111a1111a'
access_token = b'222b2b1b-2222-2bb2-2222-22b222b2222b'

request_body = {
  '_links': {
    'exchange-partner': {
      'href': 'https://api.dwolla.com/exchange-partners/a0b22a57-68df-4450-b507-47c937e64e89'
    }
  },
  'token': base64.b64encode(auth_secret + ':' + access_token)
}

exchange = app_token.post('exchange', request_body)
exchange.headers['location'] # => 'https://api.dwolla.com/exchanges/a0b22a57-68df-4450-b507-47c937e64e89'
```

```javascript
// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
var authSecret = "111a1a1a-1111-1aa1-1111-11a111a1111a";
var accessToken = "222b2b1b-2222-2bb2-2222-22b222b2222b";

var requestBody = {
  _links: {
    "exchange-partner": {
      href: "https://api.dwolla.com/exchange-partners/a0b22a57-68df-4450-b507-47c937e64e89",
    },
  },
  token: Buffer.from(authSecret + ":" + accessToken, "utf-8").toString(
    "base64"
  ),
};

dwolla
  .post("exchanges", requestBody)
  .then((res) => res.headers.get("location")); // => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

### Request and Response (Mastercard)

```bash
POST https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980/exchanges
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "exchange-partner": {
            "href": "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4"
        }
    },
    "finicity": {
        "profile": 3,
        "version": "1",
        "receiptId": "cr_4N47ou7SlppuIxq0ZUtACh10vYcloY",
        "receiptVersion": "1",
        "customerId": "5454874858510164117",
        "partnerId": 2445583946651,
        "products": [
            {
                "product": "moneyTransferDetails",
                "accountId": "1015199035827334916",
                "accessPeriod": {
                    "type": "timeframe",
                    "startTime": "2022-07-06",
                    "endTime": "2022-08-16T06:06:20Z"
                }
            }
        ],
        "timestamp": "2022-07-11T06:06:23Z"
    }
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
```

```php
<?php
// Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-php
$exchangesApi = new ExchangesApi($apiClient);
$customerUrl = "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";

$exchange = $exchangesApi->createCustomerExchange(new CreateExchangeRequest([
    "_links" => [
        "exchange-partner" => [
            "href" => "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4"
        ]
    ],
    "finicity" => [
        "profile" => 3,
        "version" => "1",
        "receiptId" => "cr_4N47ou7SlppuIxq0ZUtACh10vYcloY",
        "receiptVersion" => "1",
        "customerId" => "5454874858510164117",
        "partnerId" => 2445583946651,
        "products" => [
            [
                "product" => "moneyTransferDetails",
                "accountId" => "1015199035827334916",
                "accessPeriod" => [
                    "type" => "timeframe",
                    "startTime" => "2022-07-06",
                    "endTime" => "2022-08-16T06:06:20Z"
                ]
            ]
        ],
        "timestamp" => "2022-07-11T06:06:23Z"
    ]
]), $customerUrl);

$exchange; # => https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
?>
```

```ruby
# Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  :_links => {
    :exchange-partner => {
      :href => "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4"
    }
  },
  :finicity => {
    :profile => 3,
    :version => "1",
    :receiptId => "cr_4N47ou7SlppuIxq0ZUtACh10vYcloY",
    :receiptVersion => "1",
    :customerId => "5454874858510164117",
    :partnerId => 2445583946651,
    :products => [
      {
        :product => "moneyTransferDetails",
        :accountId => "1015199035827334916",
        :accessPeriod => {
          :type => "timeframe",
          :startTime => "2022-07-06",
          :endTime => "2022-08-16T06:06:20Z"
        }
      }
    ],
    :timestamp => "2022-07-11T06:06:23Z"
  }
}

exchange = app_token.post "#{customer_url}/exchanges", request_body
exchange.response_headers[:location] # => "https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d"
```

```python
# Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  '_links': {
    'exchange-partner': {
      'href': "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4"
    }
  },
  'finicity': {
    'profile': 3,
    'version': "1",
    'receiptId': "cr_4N47ou7SlppuIxq0ZUtACh10vYcloY",
    'receiptVersion': "1",
    'customerId': "5454874858510164117",
    'partnerId': 2445583946651,
    'products': [
      {
        'product': "moneyTransferDetails",
        'accountId': "1015199035827334916",
        'accessPeriod': {
          'type': "timeframe",
          'startTime': "2022-07-06",
          'endTime': "2022-08-16T06:06:20Z"
        }
      }
    ],
    'timestamp': "2022-07-11T06:06:23Z"
  }
}

exchange = app_token.post('%s/exchanges' % customer_url, request_body)
exchange.headers['location'] # => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

```javascript
// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
var customerUrl =
  "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";
var requestBody = {
  _links: {
    "exchange-partner": {
      href: "https://api.dwolla.com/exchange-partners/292317ec-e252-47d8-93c3-2d128e037aa4",
    },
  },
  finicity: {
    profile: 3,
    version: "1",
    receiptId: "cr_4N47ou7SlppuIxq0ZUtACh10vYcloY",
    receiptVersion: "1",
    customerId: "5454874858510164117",
    partnerId: 2445583946651,
    products: [
      {
        product: "moneyTransferDetails",
        accountId: "1015199035827334916",
        accessPeriod: {
          type: "timeframe",
          startTime: "2022-07-06",
          endTime: "2022-08-16T06:06:20Z",
        },
      },
    ],
    timestamp: "2022-07-11T06:06:23Z",
  },
};

dwolla
  .post(`${customerUrl}/exchanges`, requestBody)
  .then((res) => res.headers.get("location")); // => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

### Request and Response (Plaid)

```bash
POST https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980/exchanges
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "exchange-partner": {
            "href": "https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef"
        }
    },
    "token": "somePlaidProcessorToken"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
```

```php
<?php
// Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-php
$exchangesApi = new ExchangesApi($apiClient);
$customerUrl = "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";

$exchange = $exchangesApi->createCustomerExchange(new CreateExchangeRequest([
    "_links" => [
        "exchange-partner" => [
            "href" => "https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef"
        ]
    ],
    "token" => "somePlaidProcessorToken"
]), $customerUrl);

$exchange; # => https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
?>
```

```ruby
# Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  _links: {
    'exchange-partner': {
      href: "https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef"
    }
  },
  token: 'somePlaidProcessorToken'
}

exchange = app_token.post "#{customer_url}/exchanges", request_body
exchange.response_headers[:location] # => "https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d"
```

```python
# Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  '_links': {
    'exchange-partner': {
      'href': 'https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef'
    }
  },
  'token': 'somePlaidProcessorToken'
}

exchange = app_token.post('%s/exchanges' % customer_url, request_body)
exchange.headers['location'] # => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

```javascript
// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
var customerUrl =
  "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";
var requestBody = {
  _links: {
    "exchange-partner": {
      href: "https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef",
    },
  },
  token: "somePlaidProcessorToken",
};

dwolla
  .post(`${customerUrl}/exchanges`, requestBody)
  .then((res) => res.headers.get("location")); // => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

### Request and Response (Plaid - Exchange Sessions API)

```bash
POST https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980/exchanges
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "exchange-partner": {
            "href": "https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef"
        }
    },
    "plaid": {
      "publicToken": "public-production-d5456acb-01d5-4932-9783-e4c883cf1c0c"
    }
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d
```

```php
/**
 * No example for this language yet.
 **/
```

```ruby
# Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  _links: {
    'exchange-partner': {
      href: "https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef"
    }
  },
  plaid: {
    publicToken: "public-production-d5456acb-01d5-4932-9783-e4c883cf1c0c"
  }
}

exchange = app_token.post "#{customer_url}/exchanges", request_body
exchange.response_headers[:location] # => "https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d"
```

```python
# Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
customer_url = 'https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980'
request_body = {
  '_links': {
    'exchange-partner': {
      'href': 'https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef'
    }
  },
  'plaid': {
    'publicToken': "public-production-d5456acb-01d5-4932-9783-e4c883cf1c0c"
  }
}

exchange = app_token.post('%s/exchanges' % customer_url, request_body)
exchange.headers['location'] # => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```

```javascript
// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
var customerUrl =
  "https://api.dwolla.com/customers/74a207b2-b7b7-4efa-8bf8-582148e7b980";
var requestBody = {
  _links: {
    "exchange-partner": {
      href: "https://api.dwolla.com/exchange-partners/f53ffb32-c84f-496a-9d9d-acd100d396ef",
    },
  },
  plaid: {
    publicToken: "public-production-d5456acb-01d5-4932-9783-e4c883cf1c0c",
  },
};

dwolla
  .post(`${customerUrl}/exchanges`, requestBody)
  .then((res) => res.headers.get("location")); // => 'https://api.dwolla.com/exchanges/fcd15e5f-8d13-4570-a9b7-7fb49e55941d'
```
